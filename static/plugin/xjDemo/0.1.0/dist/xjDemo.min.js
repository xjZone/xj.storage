/*! xjDemo(案例代码展示) | V0.1.0 | Apache Licence 2.0 | 2020-2022 © XJ.Chen | https://github.com/xjZone/xjDemo/ */
!function(a,b){"function"==typeof define&&(define.amd||define.cmd)?define(function(a){b(a("jquery"),a("prism"))}):"undefined"!=typeof module&&"object"==typeof exports?module.exports=b(require("jquery"),require("prism")):(a=a||self,b(a.jQuery,a.Prism))}(this,function(a,b){"use strict";function c(b){var e,f,g,h,i,j,c=b.element,d=c.parentNode;null!==d&&"code"===c.nodeName.toLowerCase()&&d.classList.contains("xjDemo-body-source-wrap")!==!1&&(e=a(c),f=e.parent("pre"),g=f.data("xjDemoElementOption"),void 0!==g&&(h=g.preId,i=g.codeId,j=g.otherDate.textareaId,h===!0&&void 0!==j?d.id=j+"-pre":"function"==typeof h?d.id=h(j):"string"==typeof h&&(d.id=h),i===!0&&void 0!==j?c.id=j+"-code":"function"==typeof i?c.id=i(j):"string"==typeof i&&(c.id=i),(g.otherDate.fileHighlight===!0||g.otherDate.jsonpHighlight===!0)&&(g.title===!0&&void 0!==b.language&&("404"===b.language&&(b.language="Unknow"),f.closest(".xjDemo-pack").find(".xjDemo-head-title-text").text(b.language)),g.result===!0&&g.resultContent===!0&&(""!==b.code&&(b.code=mb(g,b.code)),f.closest(".xjDemo-body").find(".xjDemo-body-result-wrap-view").html(b.code)))))}function d(b){var e,f,g,h,i,c=b.element,d=c.parentNode;null!==d&&"code"===c.nodeName.toLowerCase()&&d.classList.contains("xjDemo-body-source-wrap")!==!1&&(e=a(c),f=e.parent("pre"),g=f.data("xjDemoElementOption"),void 0!==g&&(h=f.closest(".xjDemo-body-source"),i=f.siblings(".toolbar"),0!==i.length&&(f.unwrap(),h.addClass("code-toolbar"),i.attr({"class":function(a,b){return"xjDemo-body-source-tool "+b}}).children(".toolbar-item").each(function(){var b=a(this).children("button");1===b.length&&"Copy"===b.text()&&b.addClass("xj-ripple-disabled")})),e.attr({"class":function(a,b){return b.trim().replace(/\s{2,}/g," ")}}).addClass("prism-highlighted"),f.attr({"class":function(a,b){return b.trim().replace(/\s{2,}/g," ")}}).removeData("xjDemoElementOption")))}function hb(a,b){for(var c="",d=0;a>d;d++)c+=b;return c}function ib(a){return a&&a.className&&/\blang(?:uage)?-([\w-]+)\b/i.test(a.className)?RegExp.$1:""}function jb(a,b){var c=parseInt(a.css(b));return isNaN(c)===!0?0:c}function kb(a){o?window.addEventListener(Y,W,{capture:!0,passive:!1}):(m.addClass(A),db.appendTo(n).css("cursor",a))}function lb(){o?window.removeEventListener(Y,W,{capture:!0,passive:!1}):(m.removeClass(A),db.remove())}function mb(a,c){var d,e;return a.trimAction===!1||"auto"===a.trimAction&&void 0!==b.plugins.NormalizeWhitespace?c:(d=/^(\s)+/.test(c)?RegExp.lastMatch:"",e=/( |\t)+$/.test(d)?RegExp.lastMatch:"",a.trimStart&&(c=e+c.replace(/^\s*/,"")),a.trimEnd&&(c=c.replace(/\s*$/,"")),a.trimLeft&&(c=c.replace(new RegExp("^"+e,"gm"),"")),a.trimRight&&(c=c.replace(/[ \t]+$/gm,"")),0!==a.space2tab?c=c.replace(new RegExp("^( {"+a.space2tab+"})+","gm"),function(b){return hb(b.length/a.space2tab,"	")}):0!==a.tab2space&&(c=c.replace(new RegExp("^\\t+","gm"),function(b){return hb(b.length*a.tab2space," ")})),c)}var e,f,g,h,i,j,k,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,ab,bb,cb,db,eb,fb,gb;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),b.hooks.add("before-sanity-check",function(a){c(a)}),b.hooks.add("complete",function(a){d(a)}),e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof self?self:global,f=function(){},g="0.1.0",h="Demo",i={},j={lang:"html",manual:!1,selector:".xjDemo",autoRemove:!1,dispatchTime:"ready",color:"default",packClass:"",packStyle:null,head:!0,headShow:!0,title:"Demo",titleWrap:!1,larger:!1,escClose:!0,layout:!1,vertical:!0,result:!0,resultShow:!0,resultContent:!0,resultClass:"",resultStyle:null,resultWrapClass:"",resultWrapStyle:null,resultWrapViewClass:"",resultWrapViewStyle:null,source:!0,sourceShow:!0,sourceContent:!0,sourceClass:"",sourceStyle:null,sourceWrapClass:"",sourceWrapStyle:null,sourceWrapCodeClass:"",sourceWrapCodeStyle:null,preId:!0,codeId:!0,save:!1,file:"demo.txt",untsaveOnIOS:!1,saveCallback:f,copy:!0,copyCallback:f,onlySource:!1,headBottom:!1,bodyInvert:!1,insertBefore:f,insertAfter:f,insertAction:"after",autoDestroy:6e4,destroyTarget:!1,destroyCallback:f,resultResize:!0,sourceResize:!0,divideResize:!0,resizeDetail:!0,dispatchResize:!1,trimAction:"auto",trimStart:!0,trimEnd:!0,trimLeft:!0,trimRight:!1,space2tab:0,tab2space:0,encodeTarget:["<",">"],encodeResult:["&lt;","&gt;"],prismAsync:!1,prismCallback:f,anchorTarget:"",keepMarkupTag:"【＝keepMarkup＝】",i18n:{lang:"zh",zh:{larger:["放大显示","取消放大"],layout:["水平布局","垂直布局"],result:["隐藏结果","显示结果"],source:["隐藏代码","显示代码"],save:["保存文件","保存成功","保存失败"],copy:["复制代码","复制成功","复制失败"]},en:{larger:["Larger Window","Cancel Larger"],layout:["X-axis Layout","Y-axis Layout"],result:["Hidden Result","Reveal Result"],source:["Hidden Source","Reveal Source"],save:["Save File","Save Done","Save Fail"],copy:["Copy Code","Copy Done","Copy Fail"]}}},void 0===e.xj&&(e.xj={}),void 0===e.xj[h]&&(e.xj[h]={}),void 0===e.xj[h].return&&(e.xj[h].return={}),void 0===e.xj[h].config&&(e.xj[h].config={}),void 0===e.xj[h].option&&(e.xj[h].option={}),e.xj[h].config[g]&&a.extend(!0,i,e.xj[h].config[g]),e.xj[h].option[g]&&a.extend(!0,j,e.xj[h].option[g]),k=a(window),a(document),m=a("html"),n=a("body"),o="ontouchstart"in window,p=document.documentMode,q=navigator.userAgent,r=0,s=0,t=!1,u=null,v=void 0!==p||/edge/i.test(q),w=window.CSS&&window.CSS.supports("-webkit-hyphens","none"),x=/IOS|iPhone|iPad/i.test(q)&&w===!0,y=a('script[src*="xjDemo"]').attr("xjDemo-manual"),void 0!==y&&(j.manual=!0),z="xjDemo-overflow-hidden",A="xjDemo-user-select-none",B="xjDemo-pack-larger",C="xjDemo-head-hidden",D="xjDemo-head-bottom",E="xjDemo-head-nowrap",F="xjDemo-body-nowrap",G="xjDemo-body-invert",H="xjDemo-body-result-hidden",I="xjDemo-body-divide-dragging",J="xjDemo-body-source-hidden",K="xjDemo-body-source-saveable",L="xjDemo-body-source-copyable",M="xjDemo-body-source-exec-tips",N="xjDemo-body-source-exec-done",O="xjDemo-body-source-exec-fail",P="xjDemo-body-result-nook-dragging",Q="xjDemo-body-source-nook-dragging",R="xjDemo-icon-larger2",S="xjDemo-icon-layout2",T="xjDemo-icon-result2",U="xjDemo-icon-source2",V=function(){window.dispatchEvent(bb)},W=function(a){a.preventDefault()},X=o?"touchstart":"mousedown",Y=o?"touchmove":"mousemove",Z=o?"touchend":"mouseup",$="transitionend",_="mousedown",ab=0,bb=null,void 0===p?bb=new Event("resize",{bubbles:!1,cancelable:!0}):(bb=document.createEvent("Event"),bb.initEvent("resize",!1,!0)),cb=a('<textarea class="xjDemo-copy-receptacle" readOnly="readOnly"></textarea>'),db=a('<div class="xjDemo-dragging-masker"></div>'),eb=a('<a class="needsclick"></a>'),fb=a('<span class="xjDemo-result-rendered">result</span>'),gb=a('<span class="xjDemo-source-rendered">source</span>'),a.fn.xjDemo=function(i){var p,q,y,A,bb,db,hb,nb,ob,pb,qb,rb,sb,tb,ub,vb,wb,xb,yb,zb,Ab,Bb,Cb,Db,Eb,Fb,Gb,Hb,Ib,Jb,Kb,Lb,Mb,Nb,Ob,Pb,Qb,Rb,Sb,Tb,Ub,Vb,Wb,Xb,Yb,Zb,$b,_b,ac,bc,cc,dc,ec,fc,gc,hc,ic,jc,kc,lc,mc,nc,oc,pc,qc,rc,sc,tc,uc,l=this.eq(0);if(/^textarea$/i.test(l[0].nodeName)!==!1){if(void 0!==l.attr("xjDemoId"))return e.xj[h].return[l.attr("xjDemoId")];if(p=Object.create(j),i&&a.extend(!0,p,i),q=l.attr("xjDemo"),q&&a.extend(!0,p,eval("("+q+")")),p.onlySource===!0&&(p.head=p.result=!1),t!==!0||p.manual===!1)return 0===m.length&&(m=a(document.documentElement)),0===n.length&&(n=a(document.body)),y=Date.now()+"_"+String(Math.random()).slice(2,12),A="."+y,bb=p.resizeDetail,db=p.dispatchResize,hb=p.insertAction,nb=p.anchorTarget,ob=p.keepMarkupTag,pb=p.i18n,qb=p.i18n.lang,rb=void 0===l.attr("data-src")?!1:!0,sb=void 0===l.attr("data-jsonp")?!1:!0,tb=rb===!1&&sb===!1?!1:!0,ub=l.clone().removeClass("xjDemo").removeAttr("id xjDemo"),vb=null,wb=p.sourceContent,wb===!0&&(wb=l.text()),xb=p.resultContent,xb===!0&&(xb=wb),yb=ib(ub[0]),rb===!1&&""===yb&&(yb=p.lang),rb===!1&&p.title===!0&&(p.title=yb),function(c,d){p.source===!0&&(tb===!1&&(wb=mb(p,wb)),p.resultContent===!0&&(xb=wb),tb!==!1&&p.resultContent===!0&&(xb="Loading…"),p.otherDate={textareaId:l.attr("id"),fileHighlight:rb,jsonpHighlight:sb,asyncLoadSource:tb},void 0===b.plugins.KeepMarkup||0!==l.closest(".no-keep-markup").length&&0===l.closest(".keep-markup").length||(wb=wb.replace(/(<mark[^>]*>)|(<\/mark>)/gi,function(a){return c.push(a),ob})),p.encodeTarget.forEach(function(a,b){wb=wb.replace(new RegExp(a,"g"),p.encodeResult[b])}),c.forEach(function(a){wb=wb.replace(new RegExp(ob),a)}),d=ub.html("")[0].outerHTML.replace(/^<textarea/i,"<pre").replace(/textarea>$/i,"pre>"),ub=a(d).addClass("xjDemo-body-source-wrap").data("xjDemoElementOption",p),vb=a('<code class="xjDemo-body-source-wrap-code"></code>').appendTo(ub),""!==yb&&ub.addClass("lang-"+yb),tb!==!1&&vb.remove())}([],""),l.attr("xjDemoId",y),zb=!1,Ab=p.vertical,Bb=p.bodyInvert,Cb=p.headBottom,Db={id:y,version:g,self:l,that:null,larger:function(a){return void 0===a?Fb.hasClass(B)?!0:!1:("toggle"===a&&(a=Fb.hasClass(B)?!1:!0),a===!0?(r=k.scrollLeft(),s=k.scrollTop(),m.addClass(z),Fb.addClass(B),Lb.addClass(R),w&&Fb[0].clientWidth):a===!1&&(m.removeClass(z),Fb.removeClass(B),Lb.removeClass(R),w&&Fb[0].clientWidth,k.scrollLeft(r),k.scrollTop(s)),p.head===!0&&Kb.text(pb[qb].larger[a?1:0]),p.escClose===!0&&k[a?"on":"off"]("keyup"+A,function(a){27===a.keyCode&&Db.larger(!1)}),Wb.css({width:"",height:""}),dc.css({width:"",height:""}),db&&V(),zb=a,void 0)},layout:function(a){if(p.result===!0&&p.source===!0){if(void 0===a)return Fb.hasClass(F)?!1:!0;"toggle"===a&&(a=Fb.hasClass(F)?!0:!1),p.head===!0&&Nb.text(pb[qb].layout[a?0:1]),Fb[a?"removeClass":"addClass"](F),Ob[a?"removeClass":"addClass"](S),db&&V(),Wb.css({width:"",height:""}),dc.css({width:"",height:""}),Ab=a,w&&(Wb.append(fb),dc.append(gb),setTimeout(function(){fb.remove(),gb.remove()},0))}},bodyInvert:function(a){if(p.result===!0&&p.source===!0){if(void 0===a)return Fb.hasClass(G)?!0:!1;"toggle"===a&&(a=Fb.hasClass(G)?!1:!0),Fb[a?"addClass":"removeClass"](G),db&&V(),Bb=a}},result:function(a){if(p.result===!0){if(void 0===a)return Yb.html();Yb.html(a),db&&V()}},resultShow:function(a){if(p.result===!0){if(void 0===a)return Fb.hasClass(H)?!1:!0;"toggle"===a&&(a=Fb.hasClass(H)?!0:!1),p.head===!0&&Qb.text(pb[qb].result[a?0:1]),Fb[a?"removeClass":"addClass"](H),Rb[a?"removeClass":"addClass"](T),db&&V()}},source:function(a){if(p.source===!0){if(void 0===a)return fc.html();fc.html(a),db&&V()}},sourceShow:function(a){if(p.source===!0){if(void 0===a)return Fb.hasClass(J)?!1:!0;"toggle"===a&&(a=Fb.hasClass(J)?!0:!1),p.head===!0&&Tb.text(pb[qb].source[a?0:1]),Fb[a?"removeClass":"addClass"](J),Ub[a?"removeClass":"addClass"](U),db&&V()}},headShow:function(a){if(p.head===!0){if(void 0===a)return Fb.hasClass(C)?!1:!0;"toggle"===a&&(a=Fb.hasClass(C)?!0:!1),Fb[a?"removeClass":"addClass"](C),db&&V()}},headBottom:function(a){if(p.head===!0){if(void 0===a)return Fb.hasClass(D)?!0:!1;"toggle"===a&&(a=Fb.hasClass(D)?!1:!0),Fb[a?"addClass":"removeClass"](D),db&&V(),Cb=a}},title:function(a){return p.head===!0?void 0===a?Ib.html():(Ib.html(a),void 0):void 0},titleWrap:function(a){if(p.head===!0){if(void 0===a)return Fb.hasClass(E)?!1:!0;"toggle"===a&&(a=Fb.hasClass(E)?!0:!1),Fb[a?"removeClass":"addClass"](E)}},destroy:function(a){p.destroyCallback(Db)!==!1&&(a===!0&&l.remove(),Fb.remove(),k.off(A))}},Eb=a(),Fb=Db.that=a('<div class="xjDemo-pack"></div>'),p.head===!1&&Fb.addClass(C),p.result===!1&&Fb.addClass(H),p.source===!1&&Fb.addClass(J),""!==p.packClass&&Fb.addClass(p.packClass),null!==p.packStyle&&Fb.css(p.packStyle),"default"!==p.color&&Fb.addClass("xjDemo-"+p.color),Gb=Eb,Hb=Eb,Ib=Eb,Jb=Eb,Kb=Eb,Lb=Eb,Mb=Eb,Nb=Eb,Ob=Eb,Pb=Eb,Qb=Eb,Rb=Eb,Sb=Eb,Tb=Eb,Ub=Eb,Vb=Eb,Wb=Eb,Xb=Eb,Yb=Eb,Zb=Eb,$b=Eb,_b=Eb,ac=Eb,bc=Eb,cc=Eb,dc=Eb,ec=Eb,fc=Eb,gc=Eb,hc=Eb,ic=Eb,jc=Eb,kc=Eb,lc=Eb,mc=Eb,nc=Eb,oc=Eb,pc=Eb,qc=Eb,rc=Eb,p.head===!0&&(Gb=a('<div class="xjDemo-head"></div>').appendTo(Fb),p.headShow!==!0&&Db.headShow(!1),p.headBottom!==!1&&Db.headBottom(!0),Hb=a('<div class="xjDemo-head-title"></div>').appendTo(Gb),Ib=a('<div class="xjDemo-head-title-text"></div>').appendTo(Hb),rb!==!1&&p.title===!0?Ib.text("Unknow"):"string"==typeof p.title&&Ib.html(p.title),p.titleWrap===!1&&Db.titleWrap(!1),p.larger===!0&&(Jb=a('<div class="xjDemo-head-other xjDemo-head-larger"></div>').appendTo(Gb),Kb=a('<div class="xjDemo-head-other-info">'+pb[qb].larger[0]+"</div>").appendTo(Jb),Lb=a('<div class="xjDemo-head-other-icon xjDemo-icon xjDemo-icon-larger xj-ripple"></div>').appendTo(Jb),Jb.click(function(){Db.larger("toggle")})),p.layout===!0&&p.result===!0&&p.source===!0&&(Mb=a('<div class="xjDemo-head-other xjDemo-head-layout"></div>').appendTo(Gb),Nb=a('<div class="xjDemo-head-other-info">'+pb[qb].layout[0]+"</div>").appendTo(Mb),Ob=a('<div class="xjDemo-head-other-icon xjDemo-icon xjDemo-icon-layout xj-ripple"></div>').appendTo(Mb),Mb.click(function(){Db.layout("toggle")})),p.result===!0&&(Pb=a('<div class="xjDemo-head-other xjDemo-head-result"></div>').appendTo(Gb),Qb=a('<div class="xjDemo-head-other-info">'+pb[qb].result[0]+"</div>").appendTo(Pb),Rb=a('<div class="xjDemo-head-other-icon xjDemo-icon xjDemo-icon-result xj-ripple"></div>').appendTo(Pb),Pb.click(function(){Db.resultShow("toggle")})),p.source===!0&&(Sb=a('<div class="xjDemo-head-other xjDemo-head-source"></div>').appendTo(Gb),Tb=a('<div class="xjDemo-head-other-info">'+pb[qb].source[0]+"</div>").appendTo(Sb),Ub=a('<div class="xjDemo-head-other-icon xjDemo-icon xjDemo-icon-source xj-ripple"></div>').appendTo(Sb),Sb.click(function(){Db.sourceShow("toggle")}))),(p.result===!0||p.source===!0)&&(Vb=a('<div class="xjDemo-body"></div>').appendTo(Fb),p.vertical!==!0&&Db.layout(!1),p.bodyInvert!==!1&&Db.bodyInvert(!0)),p.result===!0&&(Wb=a('<div class="xjDemo-body-result"></div>').appendTo(Vb),Xb=a('<div class="xjDemo-body-result-wrap"></div>').appendTo(Wb),Yb=a('<div class="xjDemo-body-result-wrap-view"></div>').appendTo(Xb),""!==p.resultClass&&Wb.addClass(p.resultClass),null!==p.resultStyle&&Wb.css(p.resultStyle),""!==p.resultWrapClass&&Xb.addClass(p.resultWrapClass),null!==p.resultWrapStyle&&Xb.css(p.resultWrapStyle),""!==p.resultWrapViewClass&&Yb.addClass(p.resultWrapViewClass),null!==p.resultWrapViewStyle&&Yb.css(p.resultWrapViewStyle),p.resultShow!==!0&&Db.resultShow(!1),Yb.html(xb),function(){var b,c,d,e,g,h,i,j,k;p.resultResize!==!1&&(Zb=a('<div class="xjDemo-body-result-nook"><div class="xjDemo-body-result-nook-wrap"><div class="xjDemo-body-result-nook-wrap-icon"></div></div></div>').appendTo(Wb),b=f,bb===!0&&(b=function(){$b.text(Wb[0].offsetWidth+"px × "+Wb[0].offsetHeight+"px")},$b=a('<div class="xjDemo-body-result-nook-info"></div>').prependTo(Zb),Zb.on("mouseenter",function(){b()})),c=0,d=0,e=0,g=0,h=0,i=0,j=0,k=0,Zb.on(X+A,function(a){if(a.type!==_||0===a.button){if(Date.now()-ab<500)return ab=Date.now(),Wb.css({height:""}),Ab!==!0&&zb===!1&&p.source===!0&&dc.css({height:""}),void 0;ab=Date.now(),bb===!0&&(b(),Fb.addClass(P)),kb("ns-resize"),c=void 0!==a.clientY?a.clientY:a.targetTouches[0].clientY,e=Wb.outerHeight(),g=dc.outerHeight(),h=jb(Wb,"minHeight"),i=jb(dc,"minHeight"),j=h-e,k=i-g,Ab!==!0&&zb===!1&&p.source===!0&&k>j&&(j=k),m.on(Y+A,function(a){d=(void 0!==a.clientY?a.clientY:a.targetTouches[0].clientY)-c,j>d&&(d=j),Wb.css({height:e+d}),Ab!==!0&&zb===!1&&p.source===!0&&dc.css({height:g+d}),bb===!0&&b()}),m.on(Z+A,function(){lb(),db&&V(),bb===!0&&Fb.removeClass(P),m.off(Y+A),m.off(Z+A)})}}))}()),p.result===!0&&p.source===!0&&(_b=a('<div class="xjDemo-body-divide"></div>').appendTo(Vb),function(){var b,c,d,e,g,h,i,j,k,l,n;p.divideResize===!0&&(ac=a('<div class="xjDemo-body-divide-border"></div>').appendTo(_b),b=f,bb===!0&&(b=function(){bc.text(Wb[0].offsetWidth+"px × "+Wb[0].offsetHeight+"px"),cc.text(dc[0].offsetWidth+"px × "+dc[0].offsetHeight+"px")},bc=a('<div class="xjDemo-body-divide-result"></div>').appendTo(_b),cc=a('<div class="xjDemo-body-divide-source"></div>').appendTo(_b),ac.on("mouseenter",function(){b()})),c=0,d=0,e=0,g=0,h=0,i=0,j=0,k=0,l=0,n=0,ac.on(X+A,function(a){if(a.type!==_||0===a.button){if(Date.now()-ab<500)return ab=Date.now(),Ab===!0?(Wb.css({height:""}),dc.css({height:""})):(Wb.css({width:""}),dc.css({width:""})),void 0;ab=Date.now(),bb===!0&&(b(),Fb.addClass(I)),kb((Ab===!0?"row":"col")+"-resize"),c=void 0!==a.clientX?a.clientX:a.targetTouches[0].clientX,d=void 0!==a.clientY?a.clientY:a.targetTouches[0].clientY,h=Wb[Ab===!0?"outerHeight":"outerWidth"](),i=dc[Ab===!0?"outerHeight":"outerWidth"](),j=jb(Wb,Ab===!0?"minHeight":"minWidth"),k=jb(dc,Ab===!0?"minHeight":"minWidth"),l=-(h-j),n=+(i-k),m.on(Y+A,function(a){e=(void 0!==a.clientX?a.clientX:a.targetTouches[0].clientX)-c,g=(void 0!==a.clientY?a.clientY:a.targetTouches[0].clientY)-d,Bb===!0&&(e=-e),Bb===!0&&(g=-g),Ab===!0?(l>g?g=l:g>n&&(g=n),Wb.css({height:h+g}),dc.css({height:i-g})):(l>e?e=l:e>n&&(e=n),Wb.css({width:h+e}),dc.css({width:i-e})),bb===!0&&b()}),m.on(Z+A,function(){lb(),db&&V(),bb===!0&&Fb.removeClass(I),m.off(Y+A),m.off(Z+A)})}}))}()),p.source===!0&&(dc=a('<div class="xjDemo-body-source"></div>').appendTo(Vb),ec=ub.appendTo(dc),fc=vb,""!==p.sourceClass&&dc.addClass(p.sourceClass),null!==p.sourceStyle&&dc.css(p.sourceStyle),""!==p.sourceWrapClass&&ec.addClass(p.sourceWrapClass),null!==p.sourceWrapStyle&&ec.css(p.sourceWrapStyle),""!==p.sourceWrapCodeClass&&fc.addClass(p.sourceWrapCodeClass),null!==p.sourceWrapCodeStyle&&fc.css(p.sourceWrapCodeStyle),p.sourceShow!==!0&&Db.sourceShow(!1),fc.html(wb),function(){var b,c,d,e,g,h,i,j,k;p.sourceResize!==!1&&(gc=a('<div class="xjDemo-body-source-nook"><div class="xjDemo-body-source-nook-wrap"><div class="xjDemo-body-source-nook-wrap-icon"></div></div></div>').appendTo(dc),b=f,bb===!0&&(b=function(){hc.text(dc[0].offsetWidth+"px × "+dc[0].offsetHeight+"px")},hc=a('<div class="xjDemo-body-source-nook-info"></div>').prependTo(gc),gc.on("mouseenter",function(){b()})),c=0,d=0,e=0,g=0,h=0,i=0,j=0,k=0,gc.on(X+A,function(a){if(a.type!==_||0===a.button){if(Date.now()-ab<500)return ab=Date.now(),dc.css({height:""}),Ab!==!0&&zb===!1&&p.result===!0&&Wb.css({height:""}),void 0;ab=Date.now(),bb===!0&&(b(),Fb.addClass(Q)),kb("ns-resize"),c=void 0!==a.clientY?a.clientY:a.targetTouches[0].clientY,e=Wb.outerHeight(),g=dc.outerHeight(),h=jb(Wb,"minHeight"),i=jb(dc,"minHeight"),j=h-e,k=i-g,Ab!==!0&&zb===!1&&p.result===!0&&j>k&&(k=j),m.on(Y+A,function(a){d=(void 0!==a.clientY?a.clientY:a.targetTouches[0].clientY)-c,k>d&&(d=k),dc.css({height:g+d}),Ab!==!0&&zb===!1&&p.result===!0&&Wb.css({height:e+d}),bb===!0&&b()}),m.on(Z+A,function(){lb(),db&&V(),bb===!0&&Fb.removeClass(Q),m.off(Y+A),m.off(Z+A)})}}))}()),function(b,c,d){p.source===!0&&p.save!==!1&&(p.untsaveOnIOS===!1||x!==!0)&&(Fb.addClass(K),ic=a('<div class="xjDemo-body-source-exec xjDemo-body-source-save"></div>').appendTo(dc),jc=a('<div class="xjDemo-body-source-exec-info"></div>').appendTo(ic),kc=a('<div class="xjDemo-body-source-exec-info-back"></div></div>').appendTo(jc),lc=a('<div class="xjDemo-body-source-exec-info-fore">'+pb[qb].save[0]+"</div>").appendTo(jc),mc=a('<div class="xjDemo-body-source-exec-icon xjDemo-icon xjDemo-icon-save xj-ripple needsclick"></div>').appendTo(ic),jc.on($,function(a){"opacity"==a.originalEvent.propertyName&&0===parseFloat(jc.css("opacity").slice(0,4))&&(ic.removeClass(N+" "+O),lc.text(pb[qb].save[0]))}),o===!0?(b=function(c){a(c.target).closest(".xjDemo-body-source-save")[0]!==ic[0]&&(m[0].removeEventListener(X,b,!0),ic.removeClass(M))},mc.click(function(){m[0].addEventListener(X,b,!0),ic.addClass(M)})):(mc.mouseenter(function(){ic.addClass(M)}),mc.mouseleave(function(){ic.removeClass(M)})),mc.click(function(){d=!1,c=fc.text(),c=p.saveCallback===f?c:p.saveCallback(c),u=new Blob([c],{type:"text/csv"});try{navigator.msSaveBlob&&(d=navigator.msSaveBlob(u,p.file)),d===!1&&(eb.attr({href:URL.createObjectURL(u)}),eb.attr({download:p.file}),n.append(eb),eb[0].click(),d=!0)}catch(a){d=!1}finally{eb.remove()}d===!1?(lc.text(pb[qb].save[2]),ic.addClass(O)):(lc.text(pb[qb].save[1]),ic.addClass(N))}))}(f,"saveText",!0),function(b,c,d){p.source===!0&&p.copy===!0&&void 0!==document.execCommand&&(Fb.addClass(L),nc=a('<div class="xjDemo-body-source-exec xjDemo-body-source-copy"></div>').appendTo(dc),oc=a('<div class="xjDemo-body-source-exec-info"></div>').appendTo(nc),pc=a('<div class="xjDemo-body-source-exec-info-back"></div></div>').appendTo(oc),qc=a('<div class="xjDemo-body-source-exec-info-fore">'+pb[qb].copy[0]+"</div>").appendTo(oc),rc=a('<div class="xjDemo-body-source-exec-icon xjDemo-icon xjDemo-icon-copy xj-ripple needsclick"></div>').appendTo(nc),oc.on($,function(a){"opacity"==a.originalEvent.propertyName&&0===parseFloat(oc.css("opacity").slice(0,4))&&(nc.removeClass(N+" "+O),qc.text(pb[qb].copy[0]))}),o===!0?(b=function(c){a(c.target).closest(".xjDemo-body-source-copy")[0]!==nc[0]&&(m[0].removeEventListener(X,b,!0),nc.removeClass(M))},rc.click(function(){m[0].addEventListener(X,b,!0),nc.addClass(M)})):(rc.mouseenter(function(){nc.addClass(M)}),rc.mouseleave(function(){nc.removeClass(M)})),rc.click(function(){c=fc.text(),c=p.copyCallback===f?c:p.copyCallback(c),cb.text(c),n.append(cb),x===!1?cb[0].select():cb[0].setSelectionRange(0,999999999);try{d=document.execCommand("copy")}catch(a){d=!1}cb.remove(),d===!1?(qc.text(pb[qb].copy[2]),nc.addClass(O)):(qc.text(pb[qb].copy[1]),nc.addClass(N)),v===!0&&0===parseFloat(oc.css("opacity").slice(0,4))&&(nc.removeClass(N+" "+O),qc.text(pb[qb].copy[0]))}))}(f,"copyText",!0),p.insertBefore(Db),"after"===hb?Fb.insertAfter(l):"before"===hb?Fb.insertBefore(l):"function"==typeof hb&&hb(Db),p.source===!0&&(tb===!1?b.highlightElement(vb[0],p.prismAsync,p.prismCallback):rb!==!1?b.plugins.fileHighlight.highlight(dc[0]):b.plugins.jsonphighlight.highlight(dc[0])),sc=0,tc=null,sc=setInterval(function(){if(p.source!==!0)return clearInterval(sc);if(rb!==!1||sb!==!1){if("loading"===ub.attr("data-src-status")||"loading"===ub.attr("data-jsonp-status"))return;vb=ec.children("code"),("failed"===ub.attr("data-src-status")||"failed"===ub.attr("data-jsonp-status"))&&(tc={element:vb[0],code:vb[0].textContent,language:ib(ub[0])},vb.addClass("prism-highlighted"),c(tc),d(tc)),void 0!==fc.attr("style")&&vb.attr("style",fc.attr("style")),vb.attr("class",function(a,b){return"xjDemo-body-source-wrap-code "+b}),vb.addClass(fc.attr("class")),fc=vb}vb.hasClass("prism-highlighted")!==!1&&(""!==nb&&a.each(vb.find("a.token"),function(){this.target=nb}),p.insertAfter(Db),clearInterval(sc))},250),uc=0,-1!==p.autoDestroy&&(uc=setInterval(function(){n[0].contains(Fb[0])===!1&&(Db.destroy(p.destroyTarget),clearInterval(uc))},p.autoDestroy)),p.autoRemove!==!1&&l.remove(),e.xj[h].return[y]=Db}},a.xjDemo=function(b){var d,c=Object.create(j);return b&&a.extend(!0,c,b),d=[],a(c.selector).not("[xjDemoId]").each(function(){d.push(a(this).xjDemo(c))}),d},function(b){if(j.manual===!1)switch(b=function(){t=!0,a.xjDemo(),t=!1},j.dispatchTime){case"ready":a.isReady===!0?b():a(function(){b()});break;case"load":k.one("load",function(){b()});break;case"now":b()}}(f)});
