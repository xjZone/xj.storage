/*! xjDemo(案例代码展示) | V0.1.0 | Apache Licence 2.0 | 2020-2020 © XJ.Chen | https://github.com/xjZone/xjDemo/ */
!function(a,b){"function"==typeof define&&(define.amd||define.cmd)?define(function(a){b(a("jquery"),a("prism"))}):"undefined"!=typeof module&&"object"==typeof exports?module.exports=b(require("jquery"),require("prism")):(a=a||self,b(a.jQuery,a.Prism))}(this,function(a,b){"use strict";function c(b){var e,f,g,h,i,j,c=b.element,d=c.parentNode;null!==d&&"code"===c.nodeName.toLowerCase()&&d.classList.contains("xjDemo-body-source-wrap")!==!1&&(e=a(c),f=e.parent("pre"),g=f.data("xjDemoElementOption"),void 0!==g&&(h=g.preId,i=g.codeId,j=g.otherDate.textareaId,h===!0&&void 0!==j?d.id=j+"-pre":"function"==typeof h?d.id=h(j):"string"==typeof h&&(d.id=h),i===!0&&void 0!==j?c.id=j+"-code":"function"==typeof i?c.id=i(j):"string"==typeof i&&(c.id=i),(g.otherDate.fileHighlight===!0||g.otherDate.jsonpHighlight===!0)&&(g.title===!0&&void 0!==b.language&&("404"===b.language&&(b.language="Unknow"),f.closest(".xjDemo-pack").find(".xjDemo-head-title-text").text(b.language)),g.result===!0&&g.resultContent===!0&&(""!==b.code&&(b.code=mb(g,b.code)),f.closest(".xjDemo-body").find(".xjDemo-body-result-wrap-view").html(b.code)))))}function d(b){var e,f,g,h,i,c=b.element,d=c.parentNode;null!==d&&"code"===c.nodeName.toLowerCase()&&d.classList.contains("xjDemo-body-source-wrap")!==!1&&(e=a(c),f=e.parent("pre"),g=f.data("xjDemoElementOption"),void 0!==g&&(h=f.closest(".xjDemo-body-source"),i=f.siblings(".toolbar"),0!==i.length&&(f.unwrap(),h.addClass("code-toolbar"),i.attr({"class":function(a,b){return"xjDemo-body-source-tool "+b}}).children(".toolbar-item").each(function(){var b=a(this).children("button");1===b.length&&"Copy"===b.text()&&b.addClass("xj-ripple-disabled")})),e.attr({"class":function(a,b){return b.trim().replace(/\s{2,}/g," ")}}).addClass("prism-highlighted"),f.attr({"class":function(a,b){return b.trim().replace(/\s{2,}/g," ")}}).removeData("xjDemoElementOption")))}function hb(a,b){for(var c="",d=0;a>d;d++)c+=b;return c}function ib(a){return a&&a.className&&/\blang(?:uage)?-([\w-]+)\b/i.test(a.className)?RegExp.$1:""}function jb(a,b){var c=parseInt(a.css(b));return isNaN(c)===!0?0:c}function kb(a){o?window.addEventListener(Y,W,{capture:!0,passive:!1}):(m.addClass(A),db.appendTo(n).css("cursor",a))}function lb(){o?window.removeEventListener(Y,W,{capture:!0,passive:!1}):(m.removeClass(A),db.remove())}function mb(a,c){var d,e;return a.trimAction===!1||"auto"===a.trimAction&&void 0!==b.plugins.NormalizeWhitespace?c:(d=/^(\s)+/.test(c)?RegExp.lastMatch:"",e=/( |\t)+$/.test(d)?RegExp.lastMatch:"",a.trimStart&&(c=e+c.replace(/^\s*/,"")),a.trimEnd&&(c=c.replace(/\s*$/,"")),a.trimLeft&&(c=c.replace(new RegExp("^"+e,"gm"),"")),a.trimRight&&(c=c.replace(/[ \t]+$/gm,"")),0!==a.space2tab?c=c.replace(new RegExp("^( {"+a.space2tab+"})+","gm"),function(b){return hb(b.length/a.space2tab,"	")}):0!==a.tab2space&&(c=c.replace(new RegExp("^\\t+","gm"),function(b){return hb(b.length*a.tab2space," ")})),c)}var e,f,g,h,i,j,k,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,ab,bb,cb,db,eb,fb,gb;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),b.hooks.add("before-sanity-check",function(a){c(a)}),b.hooks.add("complete",function(a){d(a)}),e=function(){},f="0.1.0",g="DemoReturn",h="DemoConfig",i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof self?self:global,j={lang:"html",manual:!1,selector:".xjDemo",autoRemove:!1,dispatchTime:"ready",color:"white",packClass:"",packStyle:null,head:!0,headShow:!0,title:"Demo",titleWrap:!1,larger:!1,escClose:!0,layout:!1,vertical:!0,result:!0,resultShow:!0,resultContent:!0,resultClass:"",resultStyle:null,resultWrapClass:"",resultWrapStyle:null,resultWrapViewClass:"",resultWrapViewStyle:null,source:!0,sourceShow:!0,sourceContent:!0,sourceClass:"",sourceStyle:null,sourceWrapClass:"",sourceWrapStyle:null,sourceWrapCodeClass:"",sourceWrapCodeStyle:null,preId:!0,codeId:!0,save:!1,file:"demo.txt",untsaveOnIOS:!1,saveCallback:e,copy:!0,copyCallback:e,onlySource:!1,headBottom:!1,bodyInvert:!1,insertBefore:e,insertAfter:e,insertAction:"after",autoDestroy:6e4,destroyTarget:!1,destroyCallback:e,resultResize:!0,sourceResize:!0,divideResize:!0,resizeDetail:!0,dispatchResize:!1,trimAction:"auto",trimStart:!0,trimEnd:!0,trimLeft:!0,trimRight:!1,space2tab:0,tab2space:0,encodeTarget:["<",">"],encodeResult:["&lt;","&gt;"],prismAsync:!1,prismCallback:e,anchorTarget:"",keepMarkupTag:"【＝keepMarkup＝】",i18n:{lang:"zh",zh:{larger:["放大显示","取消放大"],layout:["水平布局","垂直布局"],result:["隐藏结果","显示结果"],source:["隐藏代码","显示代码"],save:["保存文件","保存成功","保存失败"],copy:["复制代码","复制成功","复制失败"]},en:{larger:["Larger Window","Cancel Larger"],layout:["X-axis Layout","Y-axis Layout"],result:["Hidden Result","Reveal Result"],source:["Hidden Source","Reveal Source"],save:["Save File","Save Done","Save Fail"],copy:["Copy Code","Copy Done","Copy Fail"]}}},i.xj||(i.xj={}),i.xj[g]||(i.xj[g]={}),i.xj[h]||(i.xj[h]={}),i.xj[h][f]&&a.extend(!0,j,i.xj[h][f]),k=a(window),a(document),m=a("html"),n=a("body"),o="ontouchstart"in window,p=document.documentMode,q=navigator.userAgent,r=0,s=0,t=!1,u=null,v=void 0!==p||/edge/i.test(q),w=window.CSS&&window.CSS.supports("-webkit-hyphens","none"),x=/IOS|iPhone|iPad/i.test(q)&&w===!0,y=a('script[src*="xjDemo"]').attr("xjDemo-manual"),void 0!==y&&(j.manual=!0),z="xjDemo-overflow-hidden",A="xjDemo-user-select-none",B="xjDemo-pack-larger",C="xjDemo-head-hidden",D="xjDemo-head-bottom",E="xjDemo-head-nowrap",F="xjDemo-body-nowrap",G="xjDemo-body-invert",H="xjDemo-body-result-hidden",I="xjDemo-body-divide-dragging",J="xjDemo-body-source-hidden",K="xjDemo-body-source-saveable",L="xjDemo-body-source-copyable",M="xjDemo-body-source-exec-tips",N="xjDemo-body-source-exec-done",O="xjDemo-body-source-exec-fail",P="xjDemo-body-result-nook-dragging",Q="xjDemo-body-source-nook-dragging",R="xjDemo-icon-larger2",S="xjDemo-icon-layout2",T="xjDemo-icon-result2",U="xjDemo-icon-source2",V=function(){window.dispatchEvent(bb)},W=function(a){a.preventDefault()},X=o?"touchstart":"mousedown",Y=o?"touchmove":"mousemove",Z=o?"touchend":"mouseup",$="transitionend",_="mousedown",ab=0,bb=null,void 0===p?bb=new Event("resize",{bubbles:!1,cancelable:!0}):(bb=document.createEvent("Event"),bb.initEvent("resize",!1,!0)),cb=a('<textarea class="xjDemo-copy-receptacle" readOnly="readOnly"></textarea>'),db=a('<div class="xjDemo-dragging-masker"></div>'),eb=a('<a class="needsclick"></a>'),fb=a('<span class="xjDemo-result-rendered">result</span>'),gb=a('<span class="xjDemo-source-rendered">source</span>'),a.fn.xjDemo=function(g){var l,p,q,y,W,bb,db,hb,nb,ob,pb,qb,rb,sb,tb,ub,vb,wb,xb,yb,zb,Ab,Bb,Cb,Db,Eb,Fb,Gb,Hb,Ib,Jb,Kb,Lb,Mb,Nb,Ob,Pb,Qb,Rb,Sb,Tb,Ub,Vb,Wb,Xb,Yb,Zb,$b,_b,ac,bc,cc,dc,ec,fc,gc,hc,ic,jc,kc,lc,mc,nc,oc,pc,qc,rc,sc,tc,h=this.eq(0);if(/^textarea$/i.test(h[0].nodeName)!==!1){if(void 0!==h.attr("xjDemoId"))return i.xj.DemoReturn[h.attr("xjDemoId")];if(l=Object.create(j),g&&a.extend(!0,l,g),p=h.attr("xjDemo"),p&&a.extend(!0,l,eval("("+p+")")),l.onlySource===!0&&(l.head=l.result=!1),t!==!0||l.manual!==!0)return 0===m.length&&(m=a(document.documentElement)),0===n.length&&(n=a(document.body)),q=Date.now()+"_"+String(Math.random()).slice(2,12),y="."+q,W=l.resizeDetail,bb=l.dispatchResize,db=l.insertAction,hb=l.anchorTarget,nb=l.keepMarkupTag,ob=l.i18n,pb=l.i18n.lang,qb=void 0===h.attr("data-src")?!1:!0,rb=void 0===h.attr("data-jsonp")?!1:!0,sb=qb===!1&&rb===!1?!1:!0,tb=h.clone().removeClass("xjDemo").removeAttr("id xjDemo"),ub=null,vb=l.sourceContent,vb===!0&&(vb=h.text()),wb=l.resultContent,wb===!0&&(wb=vb),xb=ib(tb[0]),qb===!1&&""===xb&&(xb=l.lang),qb===!1&&l.title===!0&&(l.title=xb),function(c,d){l.source===!0&&(sb===!1&&(vb=mb(l,vb)),l.resultContent===!0&&(wb=vb),sb!==!1&&l.resultContent===!0&&(wb="Loading…"),l.otherDate={textareaId:h.attr("id"),fileHighlight:qb,jsonpHighlight:rb,asyncLoadSource:sb},void 0===b.plugins.KeepMarkup||0!==h.closest(".no-keep-markup").length&&0===h.closest(".keep-markup").length||(vb=vb.replace(/(<mark[^>]*>)|(<\/mark>)/gi,function(a){return c.push(a),nb})),l.encodeTarget.forEach(function(a,b){vb=vb.replace(new RegExp(a,"g"),l.encodeResult[b])}),c.forEach(function(a){vb=vb.replace(new RegExp(nb),a)}),d=tb.html("")[0].outerHTML.replace(/^<textarea/i,"<pre").replace(/textarea>$/i,"pre>"),tb=a(d).addClass("xjDemo-body-source-wrap").data("xjDemoElementOption",l),ub=a('<code class="xjDemo-body-source-wrap-code"></code>').appendTo(tb),""!==xb&&tb.addClass("lang-"+xb),sb!==!1&&ub.remove())}([],""),h.attr("xjDemoId",q),yb=!1,zb=l.vertical,Ab=l.bodyInvert,Bb=l.headBottom,Cb={id:q,version:f,self:h,that:null,larger:function(a){return void 0===a?Eb.hasClass(B)?!0:!1:("toggle"===a&&(a=Eb.hasClass(B)?!1:!0),a===!0?(r=k.scrollLeft(),s=k.scrollTop(),m.addClass(z),Eb.addClass(B),Kb.addClass(R),w&&Eb[0].clientWidth):a===!1&&(m.removeClass(z),Eb.removeClass(B),Kb.removeClass(R),w&&Eb[0].clientWidth,k.scrollLeft(r),k.scrollTop(s)),l.head===!0&&Jb.text(ob[pb].larger[a?1:0]),l.escClose===!0&&k[a?"on":"off"]("keyup"+y,function(a){27===a.keyCode&&Cb.larger(!1)}),Vb.css({width:"",height:""}),cc.css({width:"",height:""}),bb&&V(),yb=a,void 0)},layout:function(a){if(l.result===!0&&l.source===!0){if(void 0===a)return Eb.hasClass(F)?!1:!0;"toggle"===a&&(a=Eb.hasClass(F)?!0:!1),l.head===!0&&Mb.text(ob[pb].layout[a?0:1]),Eb[a?"removeClass":"addClass"](F),Nb[a?"removeClass":"addClass"](S),bb&&V(),Vb.css({width:"",height:""}),cc.css({width:"",height:""}),zb=a,w&&(Vb.append(fb),cc.append(gb),setTimeout(function(){fb.remove(),gb.remove()},0))}},bodyInvert:function(a){if(l.result===!0&&l.source===!0){if(void 0===a)return Eb.hasClass(G)?!0:!1;"toggle"===a&&(a=Eb.hasClass(G)?!1:!0),Eb[a?"addClass":"removeClass"](G),bb&&V(),Ab=a}},result:function(a){if(l.result===!0){if(void 0===a)return Xb.html();Xb.html(a),bb&&V()}},resultShow:function(a){if(l.result===!0){if(void 0===a)return Eb.hasClass(H)?!1:!0;"toggle"===a&&(a=Eb.hasClass(H)?!0:!1),l.head===!0&&Pb.text(ob[pb].result[a?0:1]),Eb[a?"removeClass":"addClass"](H),Qb[a?"removeClass":"addClass"](T),bb&&V()}},source:function(a){if(l.source===!0){if(void 0===a)return ec.html();ec.html(a),bb&&V()}},sourceShow:function(a){if(l.source===!0){if(void 0===a)return Eb.hasClass(J)?!1:!0;"toggle"===a&&(a=Eb.hasClass(J)?!0:!1),l.head===!0&&Sb.text(ob[pb].source[a?0:1]),Eb[a?"removeClass":"addClass"](J),Tb[a?"removeClass":"addClass"](U),bb&&V()}},headShow:function(a){if(l.head===!0){if(void 0===a)return Eb.hasClass(C)?!1:!0;"toggle"===a&&(a=Eb.hasClass(C)?!0:!1),Eb[a?"removeClass":"addClass"](C),bb&&V()}},headBottom:function(a){if(l.head===!0){if(void 0===a)return Eb.hasClass(D)?!0:!1;"toggle"===a&&(a=Eb.hasClass(D)?!1:!0),Eb[a?"addClass":"removeClass"](D),bb&&V(),Bb=a}},title:function(a){return l.head===!0?void 0===a?Hb.html():(Hb.html(a),void 0):void 0},titleWrap:function(a){if(l.head===!0){if(void 0===a)return Eb.hasClass(E)?!1:!0;"toggle"===a&&(a=Eb.hasClass(E)?!0:!1),Eb[a?"removeClass":"addClass"](E)}},destroy:function(a){l.destroyCallback(Cb)!==!1&&(a===!0&&h.remove(),Eb.remove(),k.off(y))}},Db=a(),Eb=Cb.that=a('<div class="xjDemo-pack"></div>'),l.head===!1&&Eb.addClass(C),l.result===!1&&Eb.addClass(H),l.source===!1&&Eb.addClass(J),""!==l.packClass&&Eb.addClass(l.packClass),null!==l.packStyle&&Eb.css(l.packStyle),"white"!==l.color&&Eb.addClass("xjDemo-"+l.color),Fb=Db,Gb=Db,Hb=Db,Ib=Db,Jb=Db,Kb=Db,Lb=Db,Mb=Db,Nb=Db,Ob=Db,Pb=Db,Qb=Db,Rb=Db,Sb=Db,Tb=Db,Ub=Db,Vb=Db,Wb=Db,Xb=Db,Yb=Db,Zb=Db,$b=Db,_b=Db,ac=Db,bc=Db,cc=Db,dc=Db,ec=Db,fc=Db,gc=Db,hc=Db,ic=Db,jc=Db,kc=Db,lc=Db,mc=Db,nc=Db,oc=Db,pc=Db,qc=Db,l.head===!0&&(Fb=a('<div class="xjDemo-head"></div>').appendTo(Eb),l.headShow!==!0&&Cb.headShow(!1),l.headBottom!==!1&&Cb.headBottom(!0),Gb=a('<div class="xjDemo-head-title"></div>').appendTo(Fb),Hb=a('<div class="xjDemo-head-title-text"></div>').appendTo(Gb),qb!==!1&&l.title===!0?Hb.text("Unknow"):"string"==typeof l.title&&Hb.html(l.title),l.titleWrap===!1&&Cb.titleWrap(!1),l.larger===!0&&(Ib=a('<div class="xjDemo-head-other xjDemo-head-larger"></div>').appendTo(Fb),Jb=a('<div class="xjDemo-head-other-info">'+ob[pb].larger[0]+"</div>").appendTo(Ib),Kb=a('<div class="xjDemo-head-other-icon xjDemo-icon xjDemo-icon-larger xj-ripple"></div>').appendTo(Ib),Ib.click(function(){Cb.larger("toggle")})),l.layout===!0&&l.result===!0&&l.source===!0&&(Lb=a('<div class="xjDemo-head-other xjDemo-head-layout"></div>').appendTo(Fb),Mb=a('<div class="xjDemo-head-other-info">'+ob[pb].layout[0]+"</div>").appendTo(Lb),Nb=a('<div class="xjDemo-head-other-icon xjDemo-icon xjDemo-icon-layout xj-ripple"></div>').appendTo(Lb),Lb.click(function(){Cb.layout("toggle")})),l.result===!0&&(Ob=a('<div class="xjDemo-head-other xjDemo-head-result"></div>').appendTo(Fb),Pb=a('<div class="xjDemo-head-other-info">'+ob[pb].result[0]+"</div>").appendTo(Ob),Qb=a('<div class="xjDemo-head-other-icon xjDemo-icon xjDemo-icon-result xj-ripple"></div>').appendTo(Ob),Ob.click(function(){Cb.resultShow("toggle")})),l.source===!0&&(Rb=a('<div class="xjDemo-head-other xjDemo-head-source"></div>').appendTo(Fb),Sb=a('<div class="xjDemo-head-other-info">'+ob[pb].source[0]+"</div>").appendTo(Rb),Tb=a('<div class="xjDemo-head-other-icon xjDemo-icon xjDemo-icon-source xj-ripple"></div>').appendTo(Rb),Rb.click(function(){Cb.sourceShow("toggle")}))),(l.result===!0||l.source===!0)&&(Ub=a('<div class="xjDemo-body"></div>').appendTo(Eb),l.vertical!==!0&&Cb.layout(!1),l.bodyInvert!==!1&&Cb.bodyInvert(!0)),l.result===!0&&(Vb=a('<div class="xjDemo-body-result"></div>').appendTo(Ub),Wb=a('<div class="xjDemo-body-result-wrap"></div>').appendTo(Vb),Xb=a('<div class="xjDemo-body-result-wrap-view"></div>').appendTo(Wb),""!==l.resultClass&&Vb.addClass(l.resultClass),null!==l.resultStyle&&Vb.css(l.resultStyle),""!==l.resultWrapClass&&Wb.addClass(l.resultWrapClass),null!==l.resultWrapStyle&&Wb.css(l.resultWrapStyle),""!==l.resultWrapViewClass&&Xb.addClass(l.resultWrapViewClass),null!==l.resultWrapViewStyle&&Xb.css(l.resultWrapViewStyle),l.resultShow!==!0&&Cb.resultShow(!1),Xb.html(wb),function(){var b,c,d,f,g,h,i,j,k;l.resultResize!==!1&&(Yb=a('<div class="xjDemo-body-result-nook"><div class="xjDemo-body-result-nook-wrap"><div class="xjDemo-body-result-nook-wrap-icon"></div></div></div>').appendTo(Vb),b=e,W===!0&&(b=function(){Zb.text(Vb[0].offsetWidth+"px x "+Vb[0].offsetHeight+"px")},Zb=a('<div class="xjDemo-body-result-nook-info"></div>').prependTo(Yb),Yb.on("mouseenter",function(){b()})),c=0,d=0,f=0,g=0,h=0,i=0,j=0,k=0,Yb.on(X+y,function(a){if(a.type!==_||0===a.button){if(Date.now()-ab<500)return ab=Date.now(),Vb.css({height:""}),zb!==!0&&yb===!1&&l.source===!0&&cc.css({height:""}),void 0;ab=Date.now(),W===!0&&(b(),Eb.addClass(P)),kb("ns-resize"),c=void 0!==a.clientY?a.clientY:a.targetTouches[0].clientY,f=Vb.outerHeight(),g=cc.outerHeight(),h=jb(Vb,"minHeight"),i=jb(cc,"minHeight"),j=h-f,k=i-g,zb!==!0&&yb===!1&&l.source===!0&&k>j&&(j=k),m.on(Y+y,function(a){d=(void 0!==a.clientY?a.clientY:a.targetTouches[0].clientY)-c,j>d&&(d=j),Vb.css({height:f+d}),zb!==!0&&yb===!1&&l.source===!0&&cc.css({height:g+d}),W===!0&&b()}),m.on(Z+y,function(){lb(),bb&&V(),W===!0&&Eb.removeClass(P),m.off(Y+y),m.off(Z+y)})}}))}()),l.result===!0&&l.source===!0&&($b=a('<div class="xjDemo-body-divide"></div>').appendTo(Ub),function(){var b,c,d,f,g,h,i,j,k,n,o;l.divideResize===!0&&(_b=a('<div class="xjDemo-body-divide-border"></div>').appendTo($b),b=e,W===!0&&(b=function(){ac.text(Vb[0].offsetWidth+"px x "+Vb[0].offsetHeight+"px"),bc.text(cc[0].offsetWidth+"px x "+cc[0].offsetHeight+"px")},ac=a('<div class="xjDemo-body-divide-result"></div>').appendTo($b),bc=a('<div class="xjDemo-body-divide-source"></div>').appendTo($b),_b.on("mouseenter",function(){b()})),c=0,d=0,f=0,g=0,h=0,i=0,j=0,k=0,n=0,o=0,_b.on(X+y,function(a){if(a.type!==_||0===a.button){if(Date.now()-ab<500)return ab=Date.now(),zb===!0?(Vb.css({height:""}),cc.css({height:""})):(Vb.css({width:""}),cc.css({width:""})),void 0;ab=Date.now(),W===!0&&(b(),Eb.addClass(I)),kb((zb===!0?"row":"col")+"-resize"),c=void 0!==a.clientX?a.clientX:a.targetTouches[0].clientX,d=void 0!==a.clientY?a.clientY:a.targetTouches[0].clientY,h=Vb[zb===!0?"outerHeight":"outerWidth"](),i=cc[zb===!0?"outerHeight":"outerWidth"](),j=jb(Vb,zb===!0?"minHeight":"minWidth"),k=jb(cc,zb===!0?"minHeight":"minWidth"),n=-(h-j),o=+(i-k),m.on(Y+y,function(a){f=(void 0!==a.clientX?a.clientX:a.targetTouches[0].clientX)-c,g=(void 0!==a.clientY?a.clientY:a.targetTouches[0].clientY)-d,Ab===!0&&(f=-f),Ab===!0&&(g=-g),zb===!0?(n>g?g=n:g>o&&(g=o),Vb.css({height:h+g}),cc.css({height:i-g})):(n>f?f=n:f>o&&(f=o),Vb.css({width:h+f}),cc.css({width:i-f})),W===!0&&b()}),m.on(Z+y,function(){lb(),bb&&V(),W===!0&&Eb.removeClass(I),m.off(Y+y),m.off(Z+y)})}}))}()),l.source===!0&&(cc=a('<div class="xjDemo-body-source"></div>').appendTo(Ub),dc=tb.appendTo(cc),ec=ub,""!==l.sourceClass&&cc.addClass(l.sourceClass),null!==l.sourceStyle&&cc.css(l.sourceStyle),""!==l.sourceWrapClass&&dc.addClass(l.sourceWrapClass),null!==l.sourceWrapStyle&&dc.css(l.sourceWrapStyle),""!==l.sourceWrapCodeClass&&ec.addClass(l.sourceWrapCodeClass),null!==l.sourceWrapCodeStyle&&ec.css(l.sourceWrapCodeStyle),l.sourceShow!==!0&&Cb.sourceShow(!1),ec.html(vb),function(){var b,c,d,f,g,h,i,j,k;l.sourceResize!==!1&&(fc=a('<div class="xjDemo-body-source-nook"><div class="xjDemo-body-source-nook-wrap"><div class="xjDemo-body-source-nook-wrap-icon"></div></div></div>').appendTo(cc),b=e,W===!0&&(b=function(){gc.text(cc[0].offsetWidth+"px x "+cc[0].offsetHeight+"px")},gc=a('<div class="xjDemo-body-source-nook-info"></div>').prependTo(fc),fc.on("mouseenter",function(){b()})),c=0,d=0,f=0,g=0,h=0,i=0,j=0,k=0,fc.on(X+y,function(a){if(a.type!==_||0===a.button){if(Date.now()-ab<500)return ab=Date.now(),cc.css({height:""}),zb!==!0&&yb===!1&&l.result===!0&&Vb.css({height:""}),void 0;ab=Date.now(),W===!0&&(b(),Eb.addClass(Q)),kb("ns-resize"),c=void 0!==a.clientY?a.clientY:a.targetTouches[0].clientY,f=Vb.outerHeight(),g=cc.outerHeight(),h=jb(Vb,"minHeight"),i=jb(cc,"minHeight"),j=h-f,k=i-g,zb!==!0&&yb===!1&&l.result===!0&&j>k&&(k=j),m.on(Y+y,function(a){d=(void 0!==a.clientY?a.clientY:a.targetTouches[0].clientY)-c,k>d&&(d=k),cc.css({height:g+d}),zb!==!0&&yb===!1&&l.result===!0&&Vb.css({height:f+d}),W===!0&&b()}),m.on(Z+y,function(){lb(),bb&&V(),W===!0&&Eb.removeClass(Q),m.off(Y+y),m.off(Z+y)})}}))}()),function(b,c,d){l.source===!0&&l.save!==!1&&(l.untsaveOnIOS===!1||x!==!0)&&(Eb.addClass(K),hc=a('<div class="xjDemo-body-source-exec xjDemo-body-source-save"></div>').appendTo(cc),ic=a('<div class="xjDemo-body-source-exec-info"></div>').appendTo(hc),jc=a('<div class="xjDemo-body-source-exec-info-back"></div></div>').appendTo(ic),kc=a('<div class="xjDemo-body-source-exec-info-fore">'+ob[pb].save[0]+"</div>").appendTo(ic),lc=a('<div class="xjDemo-body-source-exec-icon xjDemo-icon xjDemo-icon-save xj-ripple needsclick"></div>').appendTo(hc),ic.on($,function(a){"opacity"==a.originalEvent.propertyName&&0===parseFloat(ic.css("opacity").slice(0,4))&&(hc.removeClass(N+" "+O),kc.text(ob[pb].save[0]))}),o===!0?(b=function(c){a(c.target).closest(".xjDemo-body-source-save")[0]!==hc[0]&&(m[0].removeEventListener(X,b,!0),hc.removeClass(M))},lc.click(function(){m[0].addEventListener(X,b,!0),hc.addClass(M)})):(lc.mouseenter(function(){hc.addClass(M)}),lc.mouseleave(function(){hc.removeClass(M)})),lc.click(function(){d=!1,c=ec.text(),c=l.saveCallback===e?c:l.saveCallback(c),u=new Blob([c],{type:"text/csv"});try{navigator.msSaveBlob&&(d=navigator.msSaveBlob(u,l.file)),d===!1&&(eb.attr({href:URL.createObjectURL(u)}),eb.attr({download:l.file}),n.append(eb),eb[0].click(),d=!0)}catch(a){d=!1}finally{eb.remove()}d===!1?(kc.text(ob[pb].save[2]),hc.addClass(O)):(kc.text(ob[pb].save[1]),hc.addClass(N))}))}(e,"saveText",!0),function(b,c,d){l.source===!0&&l.copy===!0&&void 0!==document.execCommand&&(Eb.addClass(L),mc=a('<div class="xjDemo-body-source-exec xjDemo-body-source-copy"></div>').appendTo(cc),nc=a('<div class="xjDemo-body-source-exec-info"></div>').appendTo(mc),oc=a('<div class="xjDemo-body-source-exec-info-back"></div></div>').appendTo(nc),pc=a('<div class="xjDemo-body-source-exec-info-fore">'+ob[pb].copy[0]+"</div>").appendTo(nc),qc=a('<div class="xjDemo-body-source-exec-icon xjDemo-icon xjDemo-icon-copy xj-ripple needsclick"></div>').appendTo(mc),nc.on($,function(a){"opacity"==a.originalEvent.propertyName&&0===parseFloat(nc.css("opacity").slice(0,4))&&(mc.removeClass(N+" "+O),pc.text(ob[pb].copy[0]))}),o===!0?(b=function(c){a(c.target).closest(".xjDemo-body-source-copy")[0]!==mc[0]&&(m[0].removeEventListener(X,b,!0),mc.removeClass(M))},qc.click(function(){m[0].addEventListener(X,b,!0),mc.addClass(M)})):(qc.mouseenter(function(){mc.addClass(M)}),qc.mouseleave(function(){mc.removeClass(M)})),qc.click(function(){c=ec.text(),c=l.copyCallback===e?c:l.copyCallback(c),cb.text(c),n.append(cb),x===!1?cb[0].select():cb[0].setSelectionRange(0,999999999);try{d=document.execCommand("copy")}catch(a){d=!1}cb.remove(),d===!1?(pc.text(ob[pb].copy[2]),mc.addClass(O)):(pc.text(ob[pb].copy[1]),mc.addClass(N)),v===!0&&0===parseFloat(nc.css("opacity").slice(0,4))&&(mc.removeClass(N+" "+O),pc.text(ob[pb].copy[0]))}))}(e,"copyText",!0),l.insertBefore(Cb),"after"===db?Eb.insertAfter(h):"before"===db?Eb.insertBefore(h):"function"==typeof db&&db(Cb),l.source===!0&&(sb===!1?b.highlightElement(ub[0],l.prismAsync,l.prismCallback):qb!==!1?b.plugins.fileHighlight.highlight(cc[0]):b.plugins.jsonphighlight.highlight(cc[0])),rc=0,sc=null,rc=setInterval(function(){if(l.source!==!0)return clearInterval(rc);if(qb!==!1||rb!==!1){if("loading"===tb.attr("data-src-status")||"loading"===tb.attr("data-jsonp-status"))return;ub=dc.children("code"),("failed"===tb.attr("data-src-status")||"failed"===tb.attr("data-jsonp-status"))&&(sc={element:ub[0],code:ub[0].textContent,language:ib(tb[0])},ub.addClass("prism-highlighted"),c(sc),d(sc)),void 0!==ec.attr("style")&&ub.attr("style",ec.attr("style")),ub.attr("class",function(a,b){return"xjDemo-body-source-wrap-code "+b}),ub.addClass(ec.attr("class")),ec=ub}ub.hasClass("prism-highlighted")!==!1&&(""!==hb&&a.each(ub.find("a.token"),function(){this.target=hb}),l.insertAfter(Cb),clearInterval(rc))},250),tc=0,-1!==l.autoDestroy&&(tc=setInterval(function(){n[0].contains(Eb[0])===!1&&(Cb.destroy(l.destroyTarget),clearInterval(tc))},l.autoDestroy)),l.autoRemove!==!1&&h.remove(),i.xj.DemoReturn[q]=Cb}},a.xjDemo=function(b){var d,c=Object.create(j);return b&&a.extend(!0,c,b),d=[],a(c.selector).not("[xjDemoId]").each(function(){d.push(a(this).xjDemo(c))}),d},function(b){if(j.manual===!1)switch(b=function(){t=!0,a.xjDemo(),t=!1},j.dispatchTime){case"ready":a.isReady===!0?b():a(function(){b()});break;case"load":k.one("load",function(){b()});break;case"now":b()}}(e)});
